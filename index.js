var data = {"Republican": {"Cruz": {"money": 12, "focus": 11, "years": 11, "soleimani": 3, "religious": 3, "debate": 5, "justice": 7, "father": 3, "going": 68, "obama": 50, "someone": 4, "iowa": 7, "safe": 9, "nation": 7, "every": 47, "know": 139, "day": 12, "like": 5, "bad": 9, "amnesty": 14, "right": 42, "deal": 6, "people": 90, "senate": 6, "ted": 6, "back": 17, "donald": 118, "growth": 9, "said": 49, "power": 8, "nuclear": 10, "irs": 8, "liberty": 4, "conservative": 4, "state": 10, "health": 6, "new": 16, "korea": 10, "jobs": 11, "business": 23, "men": 13, "use": 8, "reason": 7, "let": 23, "york": 14, "ethanol": 7, "put": 13, "come": 4, "would": 121, "country": 46, "keep": 9, "american": 26, "military": 7, "asked": 6, "first": 15, "clinton": 47, "terrorists": 10, "radical": 14, "washington": 41, "one": 80, "everyone": 6, "fed": 16, "america": 39, "working": 5, "question": 23, "fight": 7, "john": 17, "tell": 20, "today": 6, "flat": 22, "israel": 18, "north": 9, "hillary": 49, "appointed": 5, "women": 11, "case": 11, "isis": 18, "look": 11, "bill": 12, "roberts": 6, "economic": 9, "supreme": 15, "sees": 7, "trump": 10, "give": 5, "tax": 73, "general": 5, "states": 9, "say": 23, "marco": 10, "want": 32, "need": 79, "times": 9, "border": 17, "terrorist": 8, "court": 46, "percent": 9, "take": 10, "intend": 4, "islamic": 16, "united": 10, "plan": 7, "chris": 10, "president": 99, "law": 12, "maria": 8, "well": 63, "defeating": 8, "think": 17, "chief": 3, "banks": 6}, "Trump": {"saying": 18, "male:": 10, "money": 16, "years": 17, "better": 13, "going": 328, "good": 25, "big": 15, "every": 6, "know": 179, "world": 28, "one": 107, "like": 67, "deals": 6, "bad": 7, "domain": 14, "right": 43, "deal": 53, "people": 356, "back": 48, "see": 0, "said": 116, "reform": 0, "eminent": 14, "state": 0, "internet": 10, "new": 8, "ever": 24, "jobs": 7, "never": 7, "china": 23, "along": 16, "come": 28, "care": 8, "great": 95, "ok": 16, "country": 174, "wouldn't": 10, "florida": 9, "thing": 14, "let": 45, "think": 148, "can't": 44, "first": 15, "wall": 6, "win": 22, "three": 7, "done": 9, "use": 11, "would": 76, "tremendous": 10, "question": 15, "two": 8, "jeb": 24, "much": 7, "lot": 37, "legally": 6, "tell": 67, "listen": 9, "way": 77, "company": 6, "unidentified": 10, "made": 16, "isis": 18, "look": 78, "frankly": 7, "bill": 0, "many": 97, "problem": 11, "could": 7, "give": 16, "talking": 12, "say": 136, "fighting": 13, "want": 144, "need": 21, "border": 7, "make": 38, "take": 58, "oil": 15, "wrong": 19, "chris": 0, "billion": 18, "well": 84, "spent": 11, "together": 0, "laws": 5}, "Kasich": {"money": 5, "executive": 7, "trade": 6, "bring": 5, "cut": 6, "actually": 9, "going": 108, "somebody": 14, "government": 6, "safe": 4, "you've": 9, "schools": 11, "world": 24, "years": 6, "taxes": 23, "ohio": 49, "security": 10, "right": 5, "people": 207, "back": 31, "coalition": 5, "see": 28, "economic": 5, "said": 6, "state": 15, "health": 9, "movement": 4, "korea": 10, "jobs": 37, "job": 5, "let": 29, "put": 13, "care": 6, "great": 11, "allies": 6, "country": 92, "could": 4, "days": 6, "keep": 5, "social": 8, "think": 77, "first": 35, "love": 5, "washington": 19, "community": 7, "one": 61, "done": 42, "balanced": 7, "everybody": 18, "would": 25, "tell": 58, "families": 5, "tax": 8, "believe": 8, "isis": 6, "look": 62, "sanctions": 10, "work": 23, "budget": 24, "growth": 5, "growing": 6, "trump": 4, "didn't": 6, "states": 16, "say": 21, "want": 100, "need": 102, "north": 9, "things": 6, "make": 32, "able": 5, "also": 8, "take": 29, "incumbent": 5, "economy": 4, "medicaid": 6, "plan": 9, "president": 37, "america": 44, "billion": 11, "well": 49, "together": 17, "person": 5, "time": 20, "banks": 6, "veteran": 7, "fact": 16, "know": 162}}, "Democrat": {"Sanders": {"major": 30, "right": 87, "clinton": 64, "campaign": 78, "people": 353, "wall": 80, "political": 16, "one": 85, "states": 60, "middle": 13, "say": 59, "street": 82, "want": 45, "world": 19, "need": 65, "yes": 16, "millions": 10, "said": 68, "let": 62, "would": 61, "make": 49, "percent": 23, "much": 31, "health": 30, "way": 19, "issue": 15, "tell": 19, "today": 29, "government": 16, "believe": 97, "let's": 16, "united": 39, "flint": 17, "know": 165, "president": 58, "america": 67, "care": 40, "going": 137, "isis": 17, "like": 10, "country": 226, "bill": 20, "well": 114, "gun": 10, "american": 36, "many": 13, "every": 11, "think": 229, "talk": 18, "secretary": 162}, "Clinton": {"insurance": 9, "think": 309, "help": 14, "people": 258, "absolutely": 15, "money": 15, "back": 33, "one": 72, "states": 38, "see": 9, "want": 147, "need": 85, "children": 13, "said": 61, "would": 193, "reform": 17, "make": 101, "american": 24, "actually": 15, "also": 23, "going": 189, "health": 13, "take": 14, "lot": 90, "big": 11, "obama": 29, "happened": 10, "affordable": 9, "sanders": 17, "jobs": 16, "way": 29, "comprehensive": 18, "republicans": 11, "immigration": 16, "know": 247, "president": 167, "believe": 21, "care": 45, "isis": 23, "like": 11, "auto": 13, "many": 27, "work": 40, "well": 183, "coalition": 14, "act": 9, "try": 49, "look": 39, "women": 14, "time": 26, "senator": 126, "country": 57, "support": 72, "say": 41, "first": 28}}, "Total": {"Republican": {"Cruz": {"male:": 0, "money": 12, "years": 16, "yes": 0, "children": 0, "going": 82, "win": 0, "good": 0, "flint": 0, "know": 141, "world": 3, "like": 22, "taxes": 7, "secretary": 0, "right": 37, "deal": 9, "people": 110, "back": 42, "see": 0, "street": 0, "insurance": 0, "said": 57, "reform": 5, "state": 5, "health": 0, "new": 16, "korea": 10, "jobs": 14, "let": 24, "york": 14, "care": 0, "great": 5, "china": 3, "country": 75, "american": 0, "senator": 0, "think": 31, "can't": 1, "first": 19, "major": 0, "clinton": 14, "campaign": 0, "wall": 0, "radical": 14, "washington": 33, "one": 95, "done": 1, "everybody": 0, "would": 121, "support": 0, "question": 10, "much": 0, "lot": 0, "bill": 12, "tell": 30, "israel": 18, "way": 8, "republicans": 0, "immigration": 0, "believe": 0, "obama": 23, "isis": 18, "look": 45, "work": 0, "donald": 77, "many": 13, "problem": 6, "tax": 50, "states": 0, "talking": 1, "say": 51, "together": 3, "want": 63, "need": 86, "border": 9, "united": 0, "make": 4, "percent": 9, "take": 16, "unidentified": 0, "let's": 0, "plan": 7, "chris": 10, "president": 91, "america": 7, "well": 62, "fighting": 5, "every": 11, "talk": 0}, "Trump": {"male:": 10, "money": 11, "years": 27, "yes": 0, "children": 0, "going": 328, "win": 16, "good": 8, "flint": 0, "know": 188, "world": 11, "like": 57, "taxes": 6, "secretary": 0, "right": 64, "deal": 46, "people": 356, "back": 73, "see": 0, "street": 0, "insurance": 0, "said": 121, "reform": 0, "state": 0, "health": 0, "new": 8, "korea": 4, "jobs": 24, "let": 52, "york": 6, "care": 0, "great": 29, "china": 23, "country": 186, "american": 0, "senator": 0, "think": 145, "can't": 34, "first": 13, "major": 0, "clinton": 11, "campaign": 0, "wall": 0, "radical": 2, "washington": 4, "one": 132, "done": 7, "everybody": 4, "would": 102, "support": 0, "question": 2, "much": 0, "lot": 0, "bill": 0, "tell": 73, "israel": 12, "way": 30, "republicans": 0, "immigration": 0, "believe": 0, "obama": 2, "isis": 18, "look": 91, "work": 0, "donald": 2, "many": 87, "problem": 5, "tax": 9, "states": 0, "talking": 12, "say": 144, "together": 0, "want": 158, "need": 48, "border": 6, "united": 0, "make": 20, "percent": 2, "take": 60, "unidentified": 10, "let's": 0, "plan": 3, "chris": 0, "president": 44, "america": 4, "well": 97, "fighting": 13, "every": 6, "talk": 0}, "Kasich": {"male:": 0, "money": 8, "years": 14, "yes": 0, "children": 0, "going": 120, "win": 2, "good": 1, "flint": 0, "know": 162, "world": 15, "like": 18, "taxes": 15, "secretary": 0, "right": 16, "deal": 2, "people": 207, "back": 44, "see": 10, "street": 0, "insurance": 0, "said": 27, "reform": 4, "state": 5, "health": 0, "new": 1, "korea": 3, "jobs": 21, "let": 33, "york": 1, "care": 0, "great": 14, "china": 2, "country": 100, "american": 0, "senator": 0, "think": 72, "can't": 8, "first": 25, "major": 0, "clinton": 2, "campaign": 0, "wall": 0, "radical": 0, "washington": 22, "one": 77, "done": 10, "everybody": 6, "would": 50, "support": 0, "question": 1, "much": 0, "lot": 0, "bill": 0, "tell": 52, "israel": 2, "way": 10, "republicans": 0, "immigration": 0, "believe": 0, "obama": 0, "isis": 6, "look": 71, "work": 0, "donald": 8, "many": 12, "problem": 4, "tax": 14, "states": 0, "talking": 2, "say": 44, "together": 10, "want": 100, "need": 79, "border": 0, "united": 0, "make": 14, "percent": 4, "take": 34, "unidentified": 0, "let's": 0, "plan": 4, "chris": 3, "president": 47, "america": 7, "well": 49, "fighting": 2, "every": 2, "talk": 0}}, "Democrat": {"Sanders": {"male:": 0, "money": 12, "years": 0, "yes": 16, "children": 9, "going": 152, "win": 0, "good": 0, "flint": 17, "know": 165, "world": 0, "like": 11, "taxes": 0, "secretary": 150, "right": 77, "deal": 0, "people": 353, "back": 5, "see": 0, "street": 35, "insurance": 8, "said": 97, "reform": 0, "state": 0, "health": 30, "new": 0, "korea": 0, "jobs": 9, "let": 0, "york": 0, "care": 40, "great": 0, "china": 0, "country": 226, "american": 45, "senator": 12, "think": 229, "can't": 0, "first": 7, "major": 17, "clinton": 0, "campaign": 18, "wall": 32, "radical": 0, "washington": 0, "one": 96, "done": 0, "everybody": 0, "would": 109, "support": 2, "question": 0, "much": 18, "lot": 19, "bill": 20, "tell": 0, "israel": 0, "way": 19, "republicans": 7, "immigration": 8, "believe": 83, "obama": 9, "isis": 17, "look": 0, "work": 11, "donald": 0, "many": 13, "problem": 0, "tax": 0, "states": 40, "talking": 0, "say": 52, "together": 11, "want": 76, "need": 65, "border": 0, "united": 23, "make": 67, "percent": 0, "take": 0, "unidentified": 0, "let's": 16, "plan": 0, "chris": 0, "president": 88, "america": 21, "well": 134, "fighting": 0, "every": 25, "talk": 18}, "Clinton": {"male:": 0, "money": 15, "years": 0, "yes": 10, "children": 13, "going": 189, "win": 0, "good": 0, "flint": 11, "know": 247, "world": 0, "like": 11, "taxes": 0, "secretary": 26, "right": 38, "deal": 0, "people": 258, "back": 18, "see": 0, "street": 16, "insurance": 9, "said": 101, "reform": 0, "state": 0, "health": 26, "new": 0, "korea": 0, "jobs": 16, "let": 0, "york": 0, "care": 42, "great": 0, "china": 0, "country": 100, "american": 30, "senator": 58, "think": 309, "can't": 0, "first": 14, "major": 0, "clinton": 0, "campaign": 5, "wall": 14, "radical": 0, "washington": 0, "one": 84, "done": 0, "everybody": 0, "would": 193, "support": 24, "question": 0, "much": 13, "lot": 39, "bill": 7, "tell": 0, "israel": 0, "way": 15, "republicans": 11, "immigration": 16, "believe": 52, "obama": 17, "isis": 23, "look": 0, "work": 24, "donald": 0, "many": 12, "problem": 0, "tax": 0, "states": 32, "talking": 0, "say": 54, "together": 12, "want": 147, "need": 68, "border": 0, "united": 5, "make": 91, "percent": 0, "take": 0, "unidentified": 0, "let's": 13, "plan": 0, "chris": 0, "president": 151, "america": 8, "well": 183, "fighting": 0, "every": 20, "talk": 14}}, "Total": {"male:": 10, "money": 58, "years": 57, "yes": 26, "children": 22, "going": 871, "win": 18, "good": 9, "flint": 28, "know": 903, "world": 29, "like": 119, "taxes": 28, "secretary": 176, "right": 232, "deal": 57, "people": 1284, "back": 182, "see": 10, "street": 51, "insurance": 17, "said": 403, "reform": 9, "state": 10, "health": 56, "new": 25, "korea": 17, "jobs": 84, "let": 109, "york": 21, "care": 82, "great": 48, "china": 28, "country": 687, "american": 75, "senator": 70, "think": 786, "can't": 43, "first": 78, "major": 17, "clinton": 27, "campaign": 23, "wall": 46, "radical": 16, "washington": 59, "one": 484, "done": 18, "everybody": 10, "would": 575, "support": 26, "question": 13, "much": 31, "lot": 58, "bill": 39, "tell": 155, "israel": 32, "way": 82, "republicans": 18, "immigration": 24, "believe": 135, "obama": 51, "isis": 82, "look": 207, "work": 35, "donald": 87, "many": 137, "problem": 15, "tax": 73, "states": 72, "talking": 15, "say": 345, "together": 36, "want": 544, "need": 346, "border": 15, "united": 28, "make": 196, "percent": 15, "take": 110, "unidentified": 10, "let's": 29, "plan": 14, "chris": 13, "president": 421, "america": 47, "well": 525, "fighting": 20, "every": 64, "talk": 32}}};

var fakedata = {
     "children": [
      {"name": "AgglomerativeCluster", "value": 3938},
      {"name": "CommunityStructure", "value": 3812},
      ]
    };

console.log(data);
var total = "#77FF77";
var dem = "#7777FF";
var rep = "#FF7777";
var foo = d3.scale.linear()
    .domain([0,500])
    .range([0,500]);
var entries = d3.entries(data.Total.Total);

var top20 = {"children":[]};
//Top 20 most used words
var previousMax = Number.MAX_VALUE;

for (var i = 0 ; i < 20 ; i++){
    var maxVal = 0;
    for (var j = 0 ; j < entries.length ; j++){
	     if (entries[j].value > maxVal && entries[j].value < previousMax){
	        maxVal = entries[j].value;
          maxWord = entries[j].key;
	}
    }
    temp = {};
    temp.name = maxWord;
    temp.value = maxVal;
    top20.children.push(temp);
    previousMax = maxVal;
}
console.log(top20);

var pack = d3.layout.pack()
  .size([600, 600]);
var nodes = pack.nodes(top20),
    view;
console.log(nodes);

var savage = d3.select("body").append("svg")
    .attr("width", 1280)
    .attr("height", 720)
  .selectAll("circle")
    .data(nodes)
      .enter()
    .append("circle")
    .attr("r", function(d){ return d.r; })
    .attr("cx", function(d){ return d.x; })
    .attr("cy", function(d){ return d.y; })
    .style("background", "linear-gradient(to right, blue 40%, red 60%);");

// //Setting the x-coordinate
//     .attr("cx", function(d){
// 	return 0;
//     })
// //Setting the y-coordinate
//     .attr("cy", function(d){
// 	return 0;
//     })
//     .attr("r", function(d){ return d/10; })
    // .style("fill", none);

/*
//Setting the x-coordinate
    .attr("cx", function(d){
	return 0;
    })
//Setting the y-coordinate
    .attr("cy", function(d){
	return 0;
    })
    .attr("r", function(d){ return d/10; })
    .style("background", "linear-gradient(to right, blue 40%, red 60%);");
  position();
};

function position() {
  var circles = document.getElementsByTagName("circle");
  var x1 = -1, y1 = -1, r1 = 0, x2 = -1, y2 = -1, r2 = 0;
  var rad;
  var circle;
  for (var x = 0; x < circles.length; x++) {
    circle = circles[x];
    rad = parseFloat(circle.getAttribute("r"));
    if(x1 < 0 && y1 < 0){
      x1 = 640;
      y1 = 360;
      r1 = rad;
      circle.setAttribute("cx", x1);
      circle.setAttribute("cy", y1);
    } else if (x2 < 0 && y2 < 0){
      x2 = 640+r1+rad;
      y2 = 360;
      r2 = rad;
      circle.setAttribute("cx", x2);
      circle.setAttribute("cy", y2);
    } else {
      var C = Math.acos((Math.pow(rad+r1,2)+Math.pow(r1+r2,2)-Math.pow(rad+r2,2))/(2*(rad+r1)*(r1+r2)));
      var x3 = x1 + (rad+r1)*Math.cos(C);
      var y3 = y1 + (rad+r1)*Math.sin(C);
      circle.setAttribute("cx", x3);
      circle.setAttribute("cy", y3);
      x1 = x2;
      y1 = y2;
      x2 = x3;
      y2 = y3;
      r1 = r2;
      r2 = rad;
    }
  }
}
*/

function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}


/*
	    var rad = d.value/10;
	    curx = getRandomInt(rad, 1280-rad);
	    cury = getRandomInt(rad, 720-rad);
	    for (var i = 1 ; i < added.length ; i++) {
		var ar = added[i][0];
		var ax = added[i][1];
		var ay = added[i][2];
		var notX = Math.abs(ax-curx) <= Math.abs(ar+rad);
		var notY = Math.abs(ay-cury) <= Math.abs(ar+rad);
		if(notX && notY){
		    if(notX){ curx = getRandomInt(rad, 1280-rad); }
		    if(notY){ cury = getRandomInt(rad, 720-rad); }
		    i = 1;
		}
	    }
	    added.push([rad,curx,cury]);
	    console.log(added);
	    return curx;
	    */

/*
var w = 500, h = 500;
var r = 100;

var color = function(i){
    if (i == 0){ //Color for bernie
	return "#9999FF";
    } else if (i == 1){ //Color for hillary
	return "#FF8888";
    } else { //Otherwise default to black
	return "#000000";
    }
};

data = [{"label":"Bernie", "value":30},
        {"label":"Hillary", "value":70}];

var piechart = function(cx,cy){
    var savage = d3.select("body")
        .append("svg:svg")
        .data([data])
          .attr("width", w)
          .attr("height", h)
        .append("svg:g")
          .attr("transform", "translate(" + cx + "," + cy + ")");

    var arc = d3.svg.arc()
	.outerRadius(r);

    var pie = d3.layout.pie()
	.value(function(d) { return d.value; });

    var arcs = savage.selectAll("g.slice")
	.data(pie)
	.enter()
	  .append("svg:g")
            .attr("class", "slice");

    arcs.append("svg:path")
	.attr("fill", function(d, i) { return color(i); } )
	.attr("d", arc);

    arcs.append("svg:text")
	.attr("transform", function(d) {
            d.innerRadius = 0;
            d.outerRadius = r;
            return "translate(" + arc.centroid(d) + ")";
	})
	.attr("text-anchor", "middle")
	.text(function(d, i) { return data[i].label; });
};

piechart(250,250);
*/
